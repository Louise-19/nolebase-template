---
tags:
  - 双指针
---

# 标题

力扣链接： https://leetcode.cn/problems/add-two-numbers/

## 题目
给你两个 **非空** 的链表，表示两个非负的整数。它们每位数字都是按照 **逆序** 的方式存储的，并且每个节点只能存储 **一位** 数字。

请你将两个数相加，并以相同形式返回一个表示和的链表。

你可以假设除了数字 0 之外，这两个数都不会以 0 开头。

#### 题目注意事项
题目中并未提到两链表长度相同，需要考虑 [[不同长度的链表]] 的情况。

---
## 思路
由于涉及读取两个链表的操作，所以想到双指针法。但因为题目要求返回新链表，所以在这道题中需要用三个指针， `p1` 和 `p2` 用于读取链表 `l1`和 `l2`，`curr` 用于在新链表中存放结果。

接下来开始将两数相加。本题中数字是逆序存放的，所以直接按照链表顺序 `.next` 读取并相加就行。但这就涉及到两个问题：
1. **两个链表可能长度不一。** 如果在 while 循环中不设置任何判断条件，直接让 `p1` 和 `p2` 一直往前走会报错。那么判断条件是设置在 while 循环条件，还是嵌套在 while 的内部？
2. **最难处理的是进位的部分。** 该怎么执行下一位操作时，接受之前得到的进位？于是想到用一个变量来存放进位的数字。
## 题解
```Python
## 题解
# Definition for singly-linked list.
# class ListNode(object):
#     def __init__(self, val=0, next=None):
#         self.val = val
#         self.next = next
class Solution(object):
    def addTwoNumbers(self, l1, l2):
        dummy  = ListNode()
        curr, p1, p2 = dummy, l1, l2
        total, carry = 0, 0

        while p1 or p2 or carry:
            total = carry
            if p1:
                total += p1.val
                p1 = p1.next
            if p2:
                total += p2.val
                p2 = p2.next
            
            carry = total // 10
            total = total % 10
            curr.next = ListNode(total)
            curr = curr.next
        return dummy.next
```

## 易错点
#易错点 
- 为何要 [[虚拟头结点]]？：因为要创建新链表，用虚拟头节点方便，可以统一化操作，不需要考虑头节点的特殊情况。
- 注意最后返回值是 `dummy.next`